# IO编程

## 文件读写

### 读文件
```
  f = open("/home/username/test.txt", "r")  # 在内存中打开文件
  f.read()  # 一次性读取文件的全部内容
  f.close  # 关闭文件
```
* 符号“r”表示读，默认读utf-8编码的文本文件，如果要读图片、视频等二进制文件，则用"rb"代替。
* 如果文件不存在，会报IOError的错误。一旦出错，f.close()就不会被调用。最好的方式是用with语句来帮我们自动关闭文件。
```
  with open("/home/username/test.txt", "r") as f:
      print(f.read())
```
* 对于大文件，不能一次性读取所有内容，可以反复调用read(size)方法，每次最多读取size字节的内容。或者调用readline()方法，每次读取一行内容；也可以调用readlines()方法，一次读取所有内容并按行返回一个list。
```
  for line in f.readlines()：
      print(line.strip())  # strip()方法可以去掉首尾的空格。
```

* 像open()函数返回的这种有个read()方法的对象，在Python中统称为file-like Object。除了file外，还可以是内存的字节流，网络流，自定义流等等。file-like Object不要求从特定类继承，只要写个read()方法就行。

* 对于特定编码的文本文件，需要给open()函数传入encoding参数。

## 写文件
```
  with open("/home/username/test.txt", "w[b]") as f:
      f.write("Hello World!")
```
* **只有文件关闭之后，对文件所作的更改才能保存到磁盘上。**
